class: center, middle

# FISH 497
## Data Science for SAFS

R



Steven Roberts



---

### Last Week
--


- Explain the similarities and differences between a file and a directory.

--

- Translate an absolute path into a relative path and vice versa.

--

- Construct absolute and relative paths that identify specific files and directories.

--

- Identify the actual command, flags, and filenames in a command-line call.

--

- Demonstrate the use of tab completion, and explain its advantages.

--

- Should recognize value of bash in data QC



---

### This week
--

- R

--

- What is R? What is RStudio?



---

### Learning objectives

--

- Describe the purpose of the RStudio Script, Console, Environment, and Plots panes.

--

- Organize files and directories for a set of analyses as an R Project, and understand the purpose of the working directory.

--

- Use the built-in RStudio help interface to search for more information on R functions.




---

### R Studio

--

- RStudio, which is an Integrated Development Environment (IDE) for working with R.

--

- RStudio is divided into 4 “Panes”:

--

- Source for your scripts and documents (top-left, in the default layout), the R Console (bottom-left), your Environment/History (top-right), and your Files/Plots/Packages/Help/Viewer (bottom-right).





---
### Getting set up

--

- Good practice to keep a set of related data, analyses, and text self-contained in a single folder, called the working directory. All of the scripts within this folder can then use *relative paths* to files that indicate where inside the project a file is located

--
---
### Getting set up - "Projects"

- Start RStudio
- Under the File menu, click on New project, choose New directory, then New project
- Enter a name for this new folder (or “directory”), and choose a convenient location for it. This will be your working directory (e.g., ~/fish497-w3)
- Click on Create project
- Download the [code handout](http://www.datacarpentry.org/R-ecology-lesson/code-handout.R), place it in your working directory and rename it (e.g.,  code-script.R).
- Under the Files tab on the right of the screen, click on New Folder and create a folder named data within your newly created working directory (e.g., ~/fish497-w3/data)

---

### Organizing your working directory

- *data/* Use this folder to store your raw data and intermediate datasets you may create for the need of a particular analysis. For the sake of transparency and provenance, you should always keep a copy of your raw data accessible and do as much of your data cleanup and preprocessing programmatically (i.e., with scripts, rather than manually) as possible. Separating raw data from processed data is also a good idea. For example, you could have files  data/raw/tree_survey.plot1.txt and ...plot2.txt kept separate from a  data/processed/tree.survey.csv file generated by the  scripts/01.preprocess.tree_survey.R script.
- *documents/* This would be a place to keep outlines, drafts, and other text.
- *scripts/* This would be the location to keep your R scripts for different analyses or plotting



---

### Intro to R - Learning Objectives

- Define the following terms as they relate to R: object, assign, call, function, arguments, options.
- Assign values to variables in R.
- Learn how to name objects
- Use comments to inform script.
- Solve simple arithmetic operations in R.
- Call functions and use arguments to change their default options.
- Inspect the content of vectors and manipulate their content.
- Subset and extract values from vectors.
- Analyze vectors with missing data.


---

### Creating objects in R

You can get output from R simply by typing math in the console:

```
3 + 5
12 / 7
```

However, to do useful and interesting things, we need to assign values to objects. To create an object, we need to give it a name followed by the assignment operator <-, and the value we want to give it:

```
weight_kg <- 55
```

tip
>In RStudio, typing Alt + - (push Alt at the same time as the - key) will write <- in a single keystroke in a PC, while typing Option + - (push Option at the same time as the - key) does the same in a Mac.

```
2.2 * weight_kg
```

---


### Functions and their arguments

```
b <- sqrt(a)
```

Here, the value of `a` is given to the `sqrt()` function, the `sqrt()` function calculates the square root, and returns the value which is then assigned to variable`b`. This function is very simple, because it takes just one argument.


```
round(3.14159)
```

```
args(round)
```

```
round(3.14159, digits = 2)
```

---

### Objects vs. variables

What are known as objects in R are known as variables in many other programming languages. Depending on the context, object and  variable can have drastically different meanings. However, in this lesson, the two words are used synonymously

---

class: center, middle

### Data Structures

---

### Vectors and data types


A vector is the most common and basic data type in R, and is pretty much the workhorse of R. A vector is composed by a series of values, which can be either numbers or characters. We can assign a series of values to a vector using the c() function. For example we can create a vector of animal weights and assign it to a new object weight_g:
```
weight_g <- c(50, 60, 65, 82)
weight_g
```


---

### Subsetting Vectors

If we want to extract one or several values from a vector, we must provide one or several indices in square brackets. For instance:

```
animals <- c("mouse", "rat", "dog", "cat")
animals[2]
```

```
more_animals <- animals[c(1, 2, 3, 2, 1, 4)]
more_animals
```

---
### Missing Data

As R was designed to analyze datasets, it includes the concept of missing data (which is uncommon in other programming languages). Missing data are represented in vectors as NA.

```
heights <- c(2, 4, 4, NA, 6)
mean(heights)
max(heights)
mean(heights, na.rm = TRUE)
max(heights, na.rm = TRUE)
```
---


### Starting with data: Data frames

- Describe what a data frame is.
- Load external data from a .csv file into a data frame.
- Summarize the contents of a data frame.
- Manipulate categorical data.
- Change how character strings are handled in a data frame.
- Format dates.



---





### End of this week

--

- Thursday AM - Summary Sheet

--

- Assignment completed (based on readings and exercises)

--





---
